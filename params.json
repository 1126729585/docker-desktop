{"name":"Docker-desktop","tagline":"Docker Desktop enables you to create virtual desktops that can be accessed remotely. It comes with Firefox and Libreoffice already installed!","body":"DOCKER-DESKTOP\r\n==============\r\n\r\n##Description\r\n\r\nThis Dockerfile creates a docker image and once it's executed it creates a container that runs X11 and SSH services.\r\nThe ssh is used to forward X11 and provide you encrypted data communication between the docker container and your local machine.\r\n\r\nXpra + Xephyr allows to display the applications running inside of the container such as Firefox, LibreOffice, xterm, etc. with recovery connection capabilities. Xpra also uses a custom protocol that is self-tuning and relatively latency-insensitive, and thus is usable over worse links than standard X.\r\n\r\nThe applications can be rootless, so the client machine manages the windows that are displayed.\r\n\r\nFluxbox and ROX-Filer creates a very minimalist way to manages the windows and files. \r\n\r\n\r\n![](https://raw.github.com/rogaha/docker-desktop/master/image/docker-desktop.png)\r\n\r\nOBS: The client machine needs to have a X11 server installed (Xpra). See the \"Notes\" below. \r\n\r\n##Docker Installation\r\n\r\n###On Ubuntu:\r\nDocker is available as a Ubuntu PPA (Personal Package Archive), hosted on launchpad which makes installing Docker on Ubuntu very easy.\r\n\r\n```\r\n#Add the PPA sources to your apt sources list.\r\nsudo apt-get install python-software-properties && sudo add-apt-repository ppa:dotcloud/lxc-docker\r\n \r\n# Update your sources\r\nsudo apt-get update\r\n \r\n# Install, you will see another warning that the package cannot be authenticated. Confirm install.\r\nsudo apt-get install lxc-docker\r\n```\r\n###On Windows:\r\nRequirements:\r\n- Installation Tutorial (http://docs.docker.io/en/latest/installation/windows/)\r\n\r\n###On Mac OS X:\r\nRequirements:\r\n- Installation Tutorial (http://docs.docker.io/en/latest/installation/vagrant/)\r\n\r\n##Installation\r\n\r\n\r\n###Building the docker image\r\n\r\n```\r\n$ docker build -t [username]/docker-desktop git://github.com/rogaha/docker-desktop.git\r\n\r\nOR\r\n\r\n$ git clone https://github.com/rogaha/docker-desktop.git\r\n$ cd docker-desktop\r\n$ docker build -t [username]/docker-desktop .\r\n```\r\n\r\n###Running the docker image created (-d: detached mode, -P: expose the port 22 on the host machine)\r\n\r\n```\r\n$ CONTAINER_ID=$(docker run -d -P [username]/docker-desktop)\r\n```\r\n\r\n###Getting the password generated during runtime\r\n\r\n```\r\n$ echo $(docker logs $CONTAINER_ID | sed -n 1p)\r\nUser: docker Password: xxxxxxxxxxxx\r\n# where xxxxxxxxxxxx is the password created by PWGen that contains at least one capital letter and one number\r\n```\r\n\r\n##Usage\r\n\r\n###Getting the container's external ssh port \r\n\r\n```\r\n$ docker port $CONTAINER_ID 22\r\n49153 # This is the external port that forwards to the ssh service running inside of the container as port 22\r\n```\r\n\r\n###Connecting to the container \r\n\r\n####Starting the a new session \r\n\r\n```\r\n$ ifconfig | grep \"inet addr:\" \r\ninet addr:192.168.56.102  Bcast:192.168.56.255  Mask:255.255.255.0 # This is the LAN's IP for this machine\r\n\r\n$ ssh docker@192.168.56.102 -p 49153 ./docker-desktop -s 800x600 -d 10 # Here is where we use the external port\r\ndocker@192.168.56.102's password: xxxxxxxxxxxx \r\n\r\n$ ./docker-desktop -h\r\n\r\n-----------------------------------------------------------\r\nUsage: docker-desktop [-s screen_size] [-d session_number]\r\n-s : screen resolution (Default = 800x600\r\n-d : session number (Default = 10)\r\n-h : help\r\n-----------------------------------------------------------\r\n```\r\n\r\n####Attaching to the session started\r\n\r\n```\r\n$ xpra --ssh=\"ssh -p 49153\" attach ssh:docker@192.168.56.102:10 # user@ip_address:session_number\r\ndocker@192.168.56.102's password: xxxxxxxxxxxx \r\n\r\n```\r\nIf you want to execute rootless programs, you just need to connect to the container via ssh and type: \r\nDISPLAY=:[session_number] [program_name] & \r\n\r\nEg. DISPLAY=:10 firefox &\r\n\r\n##Notes\r\n\r\n###On Windows:\r\nRequirements:\r\n- Xpra <= 0.9.8 (https://www.xpra.org/dists/windows/)\r\n- Path: C:\\Program Files(x86)\\Xpra\\Xpra_cmd.exe\r\n\r\n###On OS X:\r\nRequirements:\r\n- Xpra Version <= 0.9.8 (https://www.xpra.org/dists/osx/x86/)\r\n- Path: /Applications/Xpra.app/Contents/Helpers/xpra\r\n\r\n\r\n###On Linux:\r\nRequirements:\r\n- Xpra: You can use apt-get to install it -> apt-get install xpra\r\n- Path: /usr/bin/xpra","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}